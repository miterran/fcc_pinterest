{"version":3,"sources":["../../server/middleware/jwtPassportMW.js"],"names":["ExtractJwt","JwtStrategy","Strategy","jwtOptions","jwtFromRequest","fromAuthHeader","secretOrKey","jwtPassportMW","jwt_payload","next","findOne","googldId","err","user"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AACA,IAAMA,aAAa,sBAAYA,UAA/B;AACA,IAAMC,cAAc,sBAAYC,QAAhC;;AAGA,IAAIC,aAAa,EAAjB;AACAA,WAAWC,cAAX,GAA4BJ,WAAWK,cAAX,EAA5B;AACAF,WAAWG,WAAX,GAAyB,KAAzB;;AAEA,IAAIC,gBAAgB,IAAIN,WAAJ,CAAgBE,UAAhB,EAA4B,UAASK,WAAT,EAAsBC,IAAtB,EAA4B;AACzE,gBAAKC,OAAL,CAAa,EAACC,UAAUH,YAAYG,QAAvB,EAAb,EAA+C,UAASC,GAAT,EAAcC,IAAd,EAAmB;AAChE,MAAGA,IAAH,EAAQ;AACNJ,QAAK,IAAL,EAAWI,IAAX;AACD,GAFD,MAEK;AACHJ,QAAK,IAAL,EAAW,KAAX;AACD;AACF,EAND;AAOF,CARmB,CAApB;;kBAUeF,a","file":"jwtPassportMW.js","sourcesContent":["import User from '../models/User';\nimport passport from \"passport\";\nimport passportJWT from \"passport-jwt\";\nconst ExtractJwt = passportJWT.ExtractJwt;\nconst JwtStrategy = passportJWT.Strategy;\n\n\nlet jwtOptions = {}\njwtOptions.jwtFromRequest = ExtractJwt.fromAuthHeader();\njwtOptions.secretOrKey = 'fcc';\n\nlet jwtPassportMW = new JwtStrategy(jwtOptions, function(jwt_payload, next) {\n\t  User.findOne({googldId: jwt_payload.googldId}, function(err, user){\n\t    if(user){\n\t      next(null, user);\n\t    }else{\n\t      next(null, false)\n\t    }\n\t  })\n});\n\nexport default jwtPassportMW\n"]}